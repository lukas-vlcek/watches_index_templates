<source>
  @type tail
  path "#{ENV['PATH_WATCHES_CLUSTER_HEALTH_LOGS']}"
  pos_file "#{ENV['PATH_WATCHES_CLUSTER_HEALTH_LOGS']}.pos"
  tag cluster_health
  format json
  #time_key timestamp
  #time_format %Y-%m-%dT%H:%M:%S.%L
  #read_from_head true
</source>

<source>
  @type tail
  path "#{ENV['PATH_WATCHES_CLUSTER_STATS_LOGS']}"
  pos_file "#{ENV['PATH_WATCHES_CLUSTER_STATS_LOGS']}.pos"
  tag cluster_stats
  format json
  #time_key timestamp
  #time_format %Y-%m-%dT%H:%M:%S.%L
  #read_from_head true
</source>

<source>
  @type tail
  path "#{ENV['PATH_WATCHES_NODES_STATS_LOGS']}"
  pos_file "#{ENV['PATH_WATCHES_NODES_STATS_LOGS']}.pos"
  tag nodes_stats
  format json
  #time_key timestamp
  #time_format %Y-%m-%dT%H:%M:%S.%L
  #read_from_head true
</source>

<source>
  @type tail
  path "#{ENV['PATH_WATCHES_INDICES_STATS_LOGS']}"
  pos_file "#{ENV['PATH_WATCHES_INDICES_STATS_LOGS']}.pos"
  tag indices_stats
  format json
  #time_key timestamp
  #time_format %Y-%m-%dT%H:%M:%S.%L
  #read_from_head true
</source>

<source>
  @type tail
  path "#{ENV['PATH_WATCHES_JUST_NODES_STATS_LOGS']}"
  pos_file "#{ENV['PATH_WATCHES_JUST_NODES_STATS_LOGS']}.pos"
  tag just_nodes_stats
  format json
  #time_key timestamp
  #time_format %Y-%m-%dT%H:%M:%S.%L
  #read_from_head true
</source>

<source>
  @type tail
  path "#{ENV['PATH_WATCHES_JUST_INDICES_STATS_LOGS']}"
  pos_file "#{ENV['PATH_WATCHES_JUST_INDICES_STATS_LOGS']}.pos"
  tag just_indices_stats
  format json
  #time_key timestamp
  #time_format %Y-%m-%dT%H:%M:%S.%L
  #read_from_head true
</source>

<filter **>
  @type stdout
</filter>

<match cluster_health>
  @type elasticsearch

  host "#{ENV['ES_HOST']}"
  port "#{ENV['ES_PORT']}"
  scheme "#{ENV['ES_SCHEME']}"

  user fluentd
  password changeme

  client_key "#{ENV['ES_CLIENT_KEY']}"
  client_cert "#{ENV['ES_CLIENT_CERT']}"
  ca_file "#{ENV['ES_CA']}"

  index_name watches_cluster_health_2-4 #(optional; default=fluentd)
  #type_name t #(optional; default=fluentd)
  flush_interval 1s
  max_retry_wait 300
  disable_retry_limit true
</match>

<match cluster_stats>
  @type elasticsearch

  host "#{ENV['ES_HOST']}"
  port "#{ENV['ES_PORT']}"
  scheme "#{ENV['ES_SCHEME']}"

  user fluentd
  password changeme

  client_key "#{ENV['ES_CLIENT_KEY']}"
  client_cert "#{ENV['ES_CLIENT_CERT']}"
  ca_file "#{ENV['ES_CA']}"

  index_name watches_cluster_stats_2-4 #(optional; default=fluentd)
  #type_name t #(optional; default=fluentd)
  flush_interval 1s
  max_retry_wait 300
  disable_retry_limit true
</match>

<match nodes_stats>
  @type elasticsearch

  host "#{ENV['ES_HOST']}"
  port "#{ENV['ES_PORT']}"
  scheme "#{ENV['ES_SCHEME']}"

  user fluentd
  password changeme

  client_key "#{ENV['ES_CLIENT_KEY']}"
  client_cert "#{ENV['ES_CLIENT_CERT']}"
  ca_file "#{ENV['ES_CA']}"

  index_name watches_nodes_stats_2-4 #(optional; default=fluentd)
  #type_name t #(optional; default=fluentd)
  flush_interval 1s
  max_retry_wait 300
  disable_retry_limit true
</match>

<match indices_stats>
  @type elasticsearch

  host "#{ENV['ES_HOST']}"
  port "#{ENV['ES_PORT']}"
  scheme "#{ENV['ES_SCHEME']}"

  user fluentd
  password changeme

  client_key "#{ENV['ES_CLIENT_KEY']}"
  client_cert "#{ENV['ES_CLIENT_CERT']}"
  ca_file "#{ENV['ES_CA']}"

  index_name watches_indices_stats_2-4 #(optional; default=fluentd)
  #type_name t #(optional; default=fluentd)
  flush_interval 1s
  max_retry_wait 300
  disable_retry_limit true
</match>

<match just_nodes_stats>
  @type elasticsearch

  host "#{ENV['ES_HOST']}"
  port "#{ENV['ES_PORT']}"
  scheme "#{ENV['ES_SCHEME']}"

  user fluentd
  password changeme

  client_key "#{ENV['ES_CLIENT_KEY']}"
  client_cert "#{ENV['ES_CLIENT_CERT']}"
  ca_file "#{ENV['ES_CA']}"

  index_name watches_just_nodes_stats_2-4 #(optional; default=fluentd)
  #type_name t #(optional; default=fluentd)
  flush_interval 1s
  max_retry_wait 300
  disable_retry_limit true
</match>

<match just_indices_stats>
  @type elasticsearch

  host "#{ENV['ES_HOST']}"
  port "#{ENV['ES_PORT']}"
  scheme "#{ENV['ES_SCHEME']}"

  user fluentd
  password changeme

  client_key "#{ENV['ES_CLIENT_KEY']}"
  client_cert "#{ENV['ES_CLIENT_CERT']}"
  ca_file "#{ENV['ES_CA']}"

  index_name watches_just_indices_stats_2-4 #(optional; default=fluentd)
  #type_name t #(optional; default=fluentd)
  flush_interval 1s
  max_retry_wait 300
  disable_retry_limit true
</match>
